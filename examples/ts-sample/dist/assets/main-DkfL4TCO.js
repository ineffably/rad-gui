var $=Object.defineProperty;var v=(a,e,t)=>e in a?$(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var n=(a,e,t)=>v(a,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();const F=["classList","children","eventHandlers"],l=(a,e={},t={})=>{const i=document.createElement(a);return Object.entries(e).filter(([s])=>!F.includes(s)).forEach(([s,o])=>i[s]=o),Array.isArray(e==null?void 0:e.classList)&&e.classList.filter(Boolean).forEach(s=>i.classList.add(s)),Object.entries(t).forEach(([s,[o,h]])=>i.addEventListener(s,o,h||{})),Array.isArray(e==null?void 0:e.children)&&e.children.forEach(s=>i.appendChild(s)),i},u=class u{constructor(e,t,i,s,o="div"){n(this,"parent");n(this,"object");n(this,"property");n(this,"initialValue");n(this,"domElement");n(this,"$name");n(this,"$widget");n(this,"$elForDisable");n(this,"_disabled",!1);n(this,"_hidden",!1);n(this,"_name");n(this,"_onChange");n(this,"_changed",!1);n(this,"_onFinishChange");n(this,"_listening",!1);n(this,"_listenCallbackID");n(this,"_listenPrevValue");u.nextNameID=u.nextNameID||0,this.parent=e,this.object=t,this.property=i,this.initialValue=this.getValue(),this.$name=l("div",{classList:["name"]}),this.$widget=l("div",{classList:["widget"]}),this.$elForDisable=this.$widget,this.domElement=l(o,{classList:["controller",s],children:[this.$name,this.$widget]},{keydown:[h=>h.stopPropagation()],keyup:[h=>h.stopPropagation()]}),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(i)}name(e){return this._name=e,this.$name.textContent=e,this}onChange(e){return this._onChange=e,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue()),this._changed=!1)}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(e=!0){return this.disable(!e)}disable(e=!0){return e===this._disabled?this:(this._disabled=e,this.domElement.classList.toggle("disabled",e),this.$elForDisable.toggleAttribute("disabled",e),this)}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(e){const t=this.parent.add(this.object,this.property,e);return t.name(this._name),this.destroy(),t}setMin(e){return this}setMax(e){return this}setStep(e){return this}setDecimals(e){return this}listen(e=!0){return this._listening=e,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const e=this.save();e!==this._listenPrevValue&&this.update(),this._listenPrevValue=e}getValue(){return this.object[this.property]}setValue(e){return this.getValue()===e?this:(this.object[this.property]=e,this._callOnChange(),this.update(),this)}update(){return this}load(e){return this.setValue(e),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}};n(u,"nextNameID");let c=u;class w extends c{constructor(t,i,s){super(t,i,s,"boolean","label");n(this,"$input");this.$input=l("input",{type:"checkbox","aria-labelledby":this.$name.id},{change:[()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}]}),this.$widget.appendChild(this.$input),this.$elForDisable=this.$input,this.update()}update(){return this.$input.checked=this.getValue(),this}}function _(a){const e=[{regex:/(#|0x)?([a-f0-9]{6})/i,format:t=>t[2]},{regex:/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,format:t=>[1,2,3].map(i=>parseInt(t[i]).toString(16).padStart(2,"0")).join("")},{regex:/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,format:t=>`${t[1]}${t[1]}${t[2]}${t[2]}${t[3]}${t[3]}`}];for(const t of e){const i=a.match(t.regex);if(i)return"#"+t.format(i)}return!1}const x=a=>{const e=parseInt(a.substring(1),16);return{r:e>>16&255,g:e>>8&255,b:e&255}},S=(a,e,t)=>(a&255)<<16|(e&255)<<8|t&255,O={isPrimitive:!0,match:a=>typeof a=="string",fromHexString:_,toHexString:_},b={isPrimitive:!0,match:a=>typeof a=="number",fromHexString:a=>parseInt(a.substring(1),16),toHexString:a=>"#"+a.toString(16).padStart(6,"0")},E={isPrimitive:!1,match:a=>Array.isArray(a),fromHexString(a,e,t=1){const i=x(a),s=t/255;e[0]=i.r*s,e[1]=i.g*s,e[2]=i.b*s},toHexString([a,e,t],i=1){const s=255/i,o=S(a*s,e*s,t*s);return b.toHexString(o)}},M={isPrimitive:!1,match:a=>Object(a)===a&&!Array.isArray(a),fromHexString(a,e,t=1){const i=x(a),s=t/255;e.r=i.r*s,e.g=i.g*s,e.b=i.b*s},toHexString({r:a,g:e,b:t},i=1){const s=255/i,o=S(a*s,e*s,t*s);return b.toHexString(o)}},A=[O,b,E,M],D=a=>A.find(e=>e.match(a));class V extends c{constructor(t,i,s,o){super(t,i,s,"color");n(this,"$input");n(this,"$text");n(this,"$display");n(this,"_format");n(this,"_rgbScale");n(this,"_initialValueHexString");n(this,"_textFocused");this.$input=l("input",{type:"color",tabindex:"-1","aria-labelledby":this.$name.id},{blur:[()=>{this._callOnFinishChange()}],input:[()=>{this._setValueFromHexString(this.$input.value)}]}),this.$text=l("input",{type:"text",spellcheck:"false",tabindex:"-1","aria-labelledby":this.$name.id},{blur:[()=>{this._textFocused=!1,this.update(),this._callOnFinishChange()}],input:[h=>{const r=_(h.target.value);r&&this._setValueFromHexString(r)}],focus:[()=>{this._textFocused=!0,this.$text.select()}]}),this.$display=l("div",{classList:["display"],children:[this.$input]}),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=D(this.initialValue),this._rgbScale=o,this._initialValueHexString=this.save(),this._textFocused=!1,this.$elForDisable=this.$text,this.update()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(t){if(this._format.isPrimitive){const i=this._format.fromHexString(t);this.setValue(i)}else this._format.fromHexString(t,this.getValue(),this._rgbScale),this._callOnChange(),this.update()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(t){return this._setValueFromHexString(t),this._callOnFinishChange(),this}update(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class g extends c{constructor(t,i,s){super(t,i,s,"function");n(this,"$button");this.$button=l("button",{children:[this.$name]},{click:[o=>{o.preventDefault(),this.getValue().call(this.object),this._callOnChange()}],touchstart:[()=>{},{passive:!0}]}),this.$widget.appendChild(this.$button),this.$elForDisable=this.$button}}const T=5,L=400;class B extends c{constructor(t,i,s,o,h,r){super(t,i,s,"number");n(this,"_decimals");n(this,"_min");n(this,"_max");n(this,"_step");n(this,"_stepExplicit");n(this,"_hasSlider");n(this,"_inputFocused");n(this,"_wheelFinishTimeout");n(this,"_sliderRect",null);n(this,"_percent",0);n(this,"$input");n(this,"$slider");n(this,"$fill");n(this,"_handleInputBound");n(this,"_handleKeyDownBound");n(this,"_handleInputWheelBound");n(this,"_handleSliderMouseDownBound");n(this,"_handleSliderTouchStartBound");n(this,"_handleSliderWheelBound");n(this,"max",this.setMax);n(this,"min",this.setMin);n(this,"step",this.setStep);n(this,"decimals",this.setDecimals);this._hasSlider=!1,this._inputFocused=!1,this._step=.1,this._stepExplicit=!1,this._handleInputBound=this._handleInput.bind(this),this._handleKeyDownBound=this._handleKeyDown.bind(this),this._handleInputWheelBound=this._handleInputWheel.bind(this),this._handleSliderMouseDownBound=this._handleSliderMouseDown.bind(this),this._handleSliderTouchStartBound=this._handleSliderTouchStart.bind(this),this._handleSliderWheelBound=this._handleSliderWheel.bind(this),this._initInput(),this.setMin(o),this.setMax(h);const d=r!==void 0;this.setStep(d?r:this._getImplicitStep(),d),this.update()}get _hasScrollBar(){var i,s;const t=(s=(i=this.parent)==null?void 0:i.root)==null?void 0:s.$children;return t?t.scrollHeight>t.clientHeight:!1}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}setDecimals(t){return this._decimals=t,this.update(),this}setMin(t){return this._min===t?this:(this._min=t,this._onUpdateMinMax(),this)}setMax(t){return this._max===t?this:(this._max=t,this._onUpdateMinMax(),this)}setStep(t,i=!0){return this._step=t??.1,this._stepExplicit=i,this}update(){const t=this.getValue();return this._hasSlider&&this._hasMin&&this._hasMax&&(this._percent=Math.max(0,Math.min((t-this._min)/(this._max-this._min),1)),this.$fill.style.width=`${this._percent*100}%`),this._inputFocused||(this.$input.value=this._decimals===void 0?t.toString():t.toFixed(this._decimals)),this}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.setStep(this._getImplicitStep(),!1),this._initSlider(),this.update())}_setDraggingStyle(t,i="horizontal"){this.$slider&&this.$slider.classList.toggle("active",t),document.body.classList.toggle("rad-gui-dragging",t),document.body.classList.toggle(`rad-gui-${i}`,t)}_normalizeMouseWheel(t){let{deltaX:i,deltaY:s}=t;return Math.floor(t.deltaY)!==t.deltaY&&t.wheelDelta&&(i=0,s=-t.wheelDelta/120,s*=this._stepExplicit?1:10),i+-s}_arrowKeyMultiplier(t){let i=this._stepExplicit?1:10;return t.shiftKey?i*=10:t.altKey&&(i/=10),i}_snap(t){if(!this._step||this._step===0)return t;let i=0;return this._hasMin?i=this._min:this._hasMax&&(i=this._max),t-=i,t=Math.round(t/this._step)*this._step,t+=i,parseFloat(t.toPrecision(15))}_clamp(t){return!this._hasMin&&!this._hasMax?t:this._hasMin&&t<this._min?this._min:this._hasMax&&t>this._max?this._max:t}_snapClampSetValue(t){this.setValue(this._clamp(this._snap(t)))}_initInput(){const t=window.matchMedia("(pointer: coarse)").matches;this.$input=l("input",{type:t?"number":"text","aria-labelledby":this.$name.id,...t?{step:"any"}:{}},{input:[this._handleInputBound],keydown:[this._handleKeyDownBound],wheel:[this._handleInputWheelBound],focus:[()=>{this._inputFocused=!0}],blur:[()=>{this._inputFocused=!1,this.update(),this._callOnFinishChange()}]}),this.$widget.appendChild(this.$input),this.$elForDisable=this.$input}_initSlider(){this._hasSlider=!0,this.$fill=l("div",{classList:["fill"]}),this.domElement.classList.add("hasSlider"),this.$slider=l("div",{classList:["slider"],children:[this.$fill]},{mousedown:[this._handleSliderMouseDownBound],touchstart:[this._handleSliderTouchStartBound,{passive:!1}],wheel:[this._handleSliderWheelBound,{passive:!1}]}),this.$widget.insertBefore(this.$slider,this.$input)}_handleInput(){const t=parseFloat(this.$input.value);isNaN(t)||(this._stepExplicit?this.setValue(this._clamp(this._snap(t))):this.setValue(this._clamp(t)))}_handleKeyDown(t){if(t.key==="Enter"){this.$input.blur();return}if(t.code==="ArrowUp"||t.code==="ArrowDown"){t.preventDefault();const i=t.code==="ArrowUp"?1:-1;this._incrementValue(this._step*this._arrowKeyMultiplier(t)*i)}}_handleInputWheel(t){this._inputFocused&&(t.preventDefault(),this._incrementValue(this._step*this._normalizeMouseWheel(t)))}_incrementValue(t){const i=parseFloat(this.$input.value);isNaN(i)||(this._snapClampSetValue(i+t),this.$input.value=this.getValue().toString())}_handleSliderMouseDown(t){this._setDraggingStyle(!0),this._setValueFromClientX(t.clientX);const i=o=>{this._setValueFromClientX(o.clientX)},s=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),this._sliderRect=null,window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",s)};window.addEventListener("mousemove",i),window.addEventListener("mouseup",s)}_handleSliderTouchStart(t){if(!(t.touches.length>1))if(this._hasScrollBar){const i=t.touches[0].clientX,s=t.touches[0].clientY;let o=!0;const h=d=>{if(d.touches[0])if(o){const m=d.touches[0].clientX-i,C=d.touches[0].clientY-s;Math.abs(m)>Math.abs(C)?(o=!1,this._beginTouchDrag(d)):Math.abs(C)>T&&this._cleanupTouchEvents(h,r)}else d.preventDefault(),this._setValueFromClientX(d.touches[0].clientX)},r=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),this._sliderRect=null,this._cleanupTouchEvents(h,r)};window.addEventListener("touchmove",h,{passive:!1}),window.addEventListener("touchend",r)}else this._beginTouchDrag(t)}_beginTouchDrag(t){if(!t.touches[0])return;t.preventDefault(),this._setDraggingStyle(!0),this._setValueFromClientX(t.touches[0].clientX);const i=o=>{o.touches[0]&&(o.preventDefault(),this._setValueFromClientX(o.touches[0].clientX))},s=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),this._sliderRect=null,this._cleanupTouchEvents(i,s)};window.addEventListener("touchmove",i,{passive:!1}),window.addEventListener("touchend",s)}_cleanupTouchEvents(t,i){window.removeEventListener("touchmove",t),window.removeEventListener("touchend",i)}_handleSliderWheel(t){if(Math.abs(t.deltaX)<Math.abs(t.deltaY)&&this._hasScrollBar)return;t.preventDefault();const s=this._normalizeMouseWheel(t)*this._step;this._snapClampSetValue(this.getValue()+s),this.$input.value=this.getValue().toString(),this._wheelFinishTimeout!==void 0&&window.clearTimeout(this._wheelFinishTimeout),this._wheelFinishTimeout=window.setTimeout(()=>{this._callOnFinishChange(),this._wheelFinishTimeout=void 0},L)}_setValueFromClientX(t){this._sliderRect||(this._sliderRect=this.$slider.getBoundingClientRect());const i=this._sliderRect;if(!i||!this._hasMin||!this._hasMax)return;const s=this._mapRange(t,i.left,i.right,this._min,this._max);this._snapClampSetValue(s)}_mapRange(t,i,s,o,h){return(t-i)/(s-i)*(h-o)+o}}class I extends c{constructor(t,i,s,o){super(t,i,s,"option");n(this,"$select");n(this,"$display");n(this,"_values");n(this,"_names");this.$select=l("select",{"aria-labelledby":this.$name.id},{change:[()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}],focus:[()=>{this.$display.classList.add("focus")}],blur:[()=>{this.$display.classList.remove("focus")}]}),this.$display=l("div",{classList:["display"]}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.options(o)}options(t){return this._values=Array.isArray(t)?t:Object.values(t),this._names=Array.isArray(t)?t:Object.keys(t),this.$select.replaceChildren(),this._names.forEach((i="")=>{const s=l("option",{textContent:i});this.$select.appendChild(s)}),this.update(),this}update(){const t=this.getValue(),i=this._values.indexOf(t);return this.$select.selectedIndex=i,this.$display.textContent=i===-1?t:this._names[i],this}}class j extends c{constructor(t,i,s){super(t,i,s,"string");n(this,"$input");this.$input=l("input",{type:"text",spellcheck:"false","aria-labelledby":this.$name.id},{input:[()=>{this.setValue(this.$input.value)}],blur:[()=>{this._callOnFinishChange()}],keydown:[o=>{o.code==="Enter"&&this.$input.blur()}]}),this.$widget.appendChild(this.$input),this.$elForDisable=this.$input,this.update()}update(){return this.$input.value=this.getValue(),this}}const k=".rad-gui { display: block; }";let f=!1;function y(){if(f)return;const e=l("style",{id:"rad-gui-styles",innerHTML:typeof CSS_CONTENT<"u"?CSS_CONTENT:k}),t=document.querySelector("head link[rel=stylesheet], head style");t?document.head.insertBefore(e,t):document.head.appendChild(e),f=!0}function R(){return f}class p{constructor({parent:e,autoPlace:t=e===void 0,container:i,width:s,title:o="Controls",closeFolders:h=!1,injectStyles:r=!0,touchStyles:d=!0}={}){n(this,"parent");n(this,"autoPlace");n(this,"width");n(this,"closeFolders");n(this,"injectStyles");n(this,"touchStyles");n(this,"root");n(this,"children");n(this,"controllers");n(this,"folders");n(this,"domElement");n(this,"$title");n(this,"$children");n(this,"container");n(this,"_closed");n(this,"_hidden");n(this,"_onChange");n(this,"_onFinishChange");n(this,"_onOpenClose");n(this,"_title");n(this,"_closeFolders");n(this,"_onFinishChangeCallback");n(this,"_onChangeCallback");n(this,"_onOpenCloseCallback");this.parent=e,this.root=e?e.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this._onChange=void 0,this._onFinishChange=void 0,this._onOpenClose=void 0,e&&(e.children.push(this),e.folders.push(this)),this.$title=l("button",{"aria-expanded":"true",classList:["title"]},{click:[()=>this.openAnimated(this._closed)],touchstart:[()=>{},{passive:!0}]}),this.$children=l("div",{classList:["children"]}),this.domElement=l("div",{classList:["rad-gui","root"],children:[this.$title,this.$children]}),d&&this.domElement.classList.add("allow-touch-styles"),this.title(o),!e&&r&&!R()&&y(),i?(this.container=i,i.appendChild(this.domElement)):t&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),s&&this.domElement.style.setProperty("--width",s+"px"),this._closeFolders=h}add(e,t,i,s,o){if(Object(i)===i)return new I(this,e,t,i);const h=e[t];switch(typeof h){case"number":return new B(this,e,t,i,s,o);case"boolean":return new w(this,e,t);case"string":return new j(this,e,t);case"function":return new g(this,e,t)}console.error("gui.add failed	property:",t,"	object:",e,"	value:",h)}addColor(e,t,i=1){return new V(this,e,t,i)}addFolder(e){const t=new p({parent:this,title:e});return this.folders.push(t),this.$children.appendChild(t.domElement),this.root._closeFolders&&t.close(),t}load(e,t=!0){return e.controllers&&this.controllers.forEach(i=>{i instanceof g||i._name in e.controllers&&i.load(e.controllers[i._name])}),t&&e.folders&&this.folders.forEach(i=>{i._title in e.folders&&i.load(e.folders[i._title])}),this}remember(...e){this.save(!0)}save(e=!0){const t={controllers:{},folders:{}},i=new Set;return this.controllers.forEach(s=>{if(!(s instanceof g)){if(Object.prototype.hasOwnProperty.call(t.controllers,s._name))throw new Error(`Cannot save GUI with duplicate property "${s._name}"`);t.controllers[s._name]=s.save()}}),e&&this.folders.forEach(s=>{i.has(s._title)||(i.add(s._title),t.folders[s._title]=s.save())}),t}open(e=!0){return this._setClosed(!e),this.$title.setAttribute("aria-expanded",!this._closed+""),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}_setClosed(e){this._closed!==e&&(this._closed=e,this._callOnOpenClose(this))}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(e=!0){return this._setClosed(!e),this.$title.setAttribute("aria-expanded",!this._closed+""),requestAnimationFrame(()=>{const t=this.$children.clientHeight;this.$children.style.height=t+"px",this.domElement.classList.add("transition");const i=o=>{o.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",i))};this.$children.addEventListener("transitionend",i);const s=e?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!e),requestAnimationFrame(()=>{this.$children.style.height=s+"px"})}),this}title(e){return this._title=e,this.$title.textContent=e,this}reset(e=!0){return(e?this.controllersRecursive():this.controllers).forEach(i=>i.reset()),this}onChange(e){return this._onChange=e,this}_callOnChange(e){this.parent&&this.parent._callOnChange(e),this._onChange!==void 0&&this._onChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(e){this.parent&&this.parent._callOnFinishChange(e),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onOpenClose(e){return this._onOpenClose=e,this}_callOnOpenClose(e){this.parent&&this.parent._callOnOpenClose(e),this._onOpenClose!==void 0&&this._onOpenClose.call(this,e)}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(e=>e.destroy())}controllersRecursive(){let e=[...this.controllers];for(const t of this.folders)e=e.concat(t.controllersRecursive());return e}foldersRecursive(){const e=(i,s=new Set)=>(i.folders.forEach(o=>{s.add(o),e(o,s)}),s),t=e(this);return Array.from(t)}}window.rad={GUI:p,el:l,injectStyles:y};class H{constructor(){this.animationId=null,this.demoObject={boxSize:100,rotation:0,opacity:1,animationSpeed:1,enableAnimation:!1,showShadow:!0,autoRotate:!1,boxText:"Box",cssFilter:"none",backgroundColor:"#ff6b6b",borderColor:"rgb(255, 255, 255)",animationType:"bounce",boxShape:"square",resetBox:()=>this.resetBox(),randomizeColors:()=>this.randomizeColors(),saveSettings:()=>this.saveSettings(),loadSettings:()=>this.loadSettings()},this.box=document.getElementById("animated-box"),this.status=document.getElementById("status"),this.setupGUI(),this.updateBox(),this.startAnimation()}setupGUI(){this.gui=new p({title:"Demo Controls",width:300}),this.gui.add(this.demoObject,"boxSize",50,200,1).name("Box Size").onChange(()=>this.updateBox()).onFinishChange(e=>this.logChange("Box Size",e.value)),this.gui.add(this.demoObject,"rotation",0,360,1).name("Rotation (°)").onChange(()=>this.updateBox()),this.gui.add(this.demoObject,"opacity",0,1,.01).name("Opacity").onChange(()=>this.updateBox()),this.gui.add(this.demoObject,"boxText").name("Text Content").onChange(()=>this.updateBox()),this.gui.add(this.demoObject,"enableAnimation").name("Enable Animation").onChange(e=>{e.value?this.startAnimation():this.stopAnimation(),this.logChange("Animation",e.value?"Started":"Stopped")}),this.gui.add(this.demoObject,"showShadow").name("Show Shadow").onChange(()=>this.updateBox()),this.gui.addColor(this.demoObject,"backgroundColor",1).name("Background Color").onChange(()=>this.updateBox()),this.gui.addColor(this.demoObject,"borderColor",1).name("Border Color").onChange(()=>this.updateBox()),this.gui.add(this.demoObject,"animationType",["bounce","pulse","shake","rotate"]).name("Animation Type").onChange(e=>this.logChange("Animation Type",e.value)),this.gui.add(this.demoObject,"boxShape",{Square:"square",Circle:"circle",Diamond:"diamond",Triangle:"triangle"}).name("Shape").onChange(()=>this.updateBox()),this.setupAnimationFolder(),this.setupAppearanceFolder(),this.setupActionsFolder(),this.gui.onChange(e=>{console.log("GUI Change Event:",e),this.logChange(`Global onChange: ${e.property}`,e.value)}),this.gui.onFinishChange(e=>{console.log("GUI Finish Change Event:",e),this.logChange(`Global onFinishChange: ${e.property}`,e.value)}),this.gui.onOpenClose(e=>{console.log("GUI Open/Close Event:",e);const t=!e._closed;this.logChange("Folder State",t?"Opened":"Closed")})}setupAnimationFolder(){this.animationFolder=this.gui.addFolder("Animation Settings"),this.animationFolder.add(this.demoObject,"animationSpeed",.1,3,.1).name("Speed Multiplier").onChange(()=>this.updateAnimation()),this.animationFolder.add(this.demoObject,"autoRotate").name("Auto Rotate").onChange(()=>this.updateAnimation()),this.animationFolder.close()}setupAppearanceFolder(){this.appearanceFolder=this.gui.addFolder("Advanced Appearance"),this.appearanceFolder.add(this.demoObject,"cssFilter",["none","blur(2px)","brightness(1.5)","contrast(1.5)","grayscale(1)","sepia(1)","hue-rotate(90deg)"]).name("CSS Filter").onChange(()=>this.updateBox())}setupActionsFolder(){this.actionsFolder=this.gui.addFolder("Actions"),this.actionsFolder.add(this.demoObject,"resetBox").name("Reset to Defaults"),this.actionsFolder.add(this.demoObject,"randomizeColors").name("Randomize Colors"),this.actionsFolder.add(this.demoObject,"saveSettings").name("Save Settings"),this.actionsFolder.add(this.demoObject,"loadSettings").name("Load Settings")}updateBox(){const{boxSize:e,rotation:t,opacity:i,boxText:s,backgroundColor:o,borderColor:h,showShadow:r,boxShape:d,cssFilter:m}=this.demoObject;switch(this.box.style.width=`${e}px`,this.box.style.height=`${e}px`,this.box.style.transform=`rotate(${t}deg)`,this.box.style.opacity=i.toString(),this.box.style.backgroundColor=o,this.box.style.borderColor=h,this.box.style.border=`2px solid ${h}`,this.box.style.filter=m,this.box.textContent=s,this.box.style.boxShadow=r?"0 4px 8px rgba(0,0,0,0.2)":"none",d){case"circle":this.box.style.borderRadius="50%";break;case"diamond":this.box.style.borderRadius="0",this.box.style.transform=`rotate(${t+45}deg)`;break;case"triangle":this.box.style.borderRadius="0",this.box.style.clipPath="polygon(50% 0%, 0% 100%, 100% 100%)";break;default:this.box.style.borderRadius="8px",this.box.style.clipPath="none"}}startAnimation(){if(this.animationId)return;let e=Date.now();const t=()=>{if(!this.demoObject.enableAnimation)return;const i=Date.now()-e,s=this.demoObject.animationSpeed;switch(this.demoObject.animationType){case"bounce":this.box.style.transform+=` translateY(${Math.sin(i*.005*s)*10}px)`;break;case"pulse":const o=1+Math.sin(i*.003*s)*.1;this.box.style.transform+=` scale(${o})`;break;case"shake":const h=Math.sin(i*.02*s)*2,r=Math.cos(i*.02*s)*2;this.box.style.transform+=` translate(${h}px, ${r}px)`;break;case"rotate":this.demoObject.rotation=(this.demoObject.rotation+s)%360;break}this.demoObject.autoRotate&&(this.demoObject.rotation=(this.demoObject.rotation+.5*s)%360),this.updateBox(),this.animationId=requestAnimationFrame(t)};this.animationId=requestAnimationFrame(t)}stopAnimation(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}updateAnimation(){this.demoObject.enableAnimation&&(this.stopAnimation(),this.startAnimation())}resetBox(){Object.assign(this.demoObject,{boxSize:100,rotation:0,opacity:1,animationSpeed:1,enableAnimation:!1,showShadow:!0,autoRotate:!1,boxText:"Box",cssFilter:"none",backgroundColor:"#ff6b6b",borderColor:"rgb(255, 255, 255)",animationType:"bounce",boxShape:"square"}),this.gui.controllersRecursive().forEach(e=>{e.updateDisplay()}),this.updateBox(),this.logChange("Settings","Reset to defaults")}randomizeColors(){const e=()=>{const t=Math.floor(Math.random()*256),i=Math.floor(Math.random()*256),s=Math.floor(Math.random()*256);return`rgb(${t}, ${i}, ${s})`};this.demoObject.backgroundColor=e(),this.demoObject.borderColor=e(),this.gui.controllersRecursive().forEach(t=>{(t.property==="backgroundColor"||t.property==="borderColor")&&t.updateDisplay()}),this.updateBox(),this.logChange("Colors","Randomized")}saveSettings(){const e=this.gui.save();localStorage.setItem("radGuiDemoSettings",JSON.stringify(e)),this.logChange("Settings","Saved to localStorage")}loadSettings(){const e=localStorage.getItem("radGuiDemoSettings");if(e)try{const t=JSON.parse(e);this.gui.load(t),this.updateBox(),this.logChange("Settings","Loaded from localStorage")}catch(t){this.logChange("Settings","Error loading from localStorage"),console.error("Error loading settings:",t)}else this.logChange("Settings","No saved settings found")}logChange(e,t){const i=new Date().toLocaleTimeString();this.status.textContent=`${i}: ${e} changed to ${t}`,console.log(`[${i}] ${e}:`,t)}}document.addEventListener("DOMContentLoaded",()=>{new H,console.log("🎛️ Rad GUI TypeScript Demo initialized!"),console.log("This demo showcases:"),console.log("• Number controls with min/max/step"),console.log("• Boolean toggle controls"),console.log("• Text input controls"),console.log("• Color picker controls"),console.log("• Option controls (dropdowns)"),console.log("• Function button controls"),console.log("• Organized folders"),console.log("• Event handling"),console.log("• Save/load functionality"),console.log("• Proper TypeScript typing")});
